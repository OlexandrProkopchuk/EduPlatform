@model TakeQuizViewModel

<h2>@Model.Title</h2>
<p class="text-muted">Питань: @Model.Questions?.Count()</p>

@if (Model.Questions == null || !Model.Questions.Any())
{
    <div class="alert alert-warning">Для цього тесту немає питань.</div>
}
else
{
    <form asp-action="Submit" method="post">
        <input type="hidden" name="QuizId" value="@Model.QuizId" />

        @foreach (var q in Model.Questions)
        {
            <div class="mb-4">
                <p class="fw-bold">@q.Text</p>

                @if (q.Options == null || !q.Options.Any())
                {
                    <div class="text-muted">Немає варіантів</div>
                }
                else
                {
                    @foreach (var opt in q.Options)
                    {
                        <div class="form-check">
                            <input class="form-check-input"
                                   type="checkbox"
                                   name="Answers[@q.Id]"
                                   value="@opt.Id"
                                   id="q@q.Id-opt@opt.Id" />
                            <label class="form-check-label" for="q@q.Id-opt@opt.Id">
                                @opt.Text
                            </label>
                        </div>
                    }
                }
            </div>
        }

        <button type="submit" class="btn btn-primary">Завершити тест</button>
    </form>
}
